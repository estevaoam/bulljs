/*! bulljs 26-09-2013 */
var isEmpty=function(a){for(var b in a)if(a.hasOwnProperty(b))return!1;return!0},DefaultErrorHandler={showErrors:function(){var a=this.errors,b=this.form;for(selector in a){var c=$(selector,b),d="<div>";d+=a[selector][0],d+="</div>",d=$(d).addClass("validator-error-message"),c.addClass("input-error").parent("div").after($(d))}},removeErrors:function(){$(".validator-error-message").remove(),$(".input-error").removeClass("input-error")}},Bull={validators:{},errors:{},form:null,errorHandler:null,init:function(a,b){return this.form=$(a),this.errorHandler=b,this},addError:function(a,b){var c=a.selector;void 0===this.errors[c]?this.errors[c]=[b]:this.errors[c].push(b)},validate:function(a){this.reset();for(prop in a)this.applyRule(a[prop],$(prop,this.form));var b=isEmpty(this.errors);return b===!1&&this.errorHandler.showErrors.call(this),b},defineRule:function(a,b){void 0===this.validators[a]&&(this.validators[a]=b)},applyRule:function(a,b){for(ruleName in a)this.validators[ruleName].call(this,b,a[ruleName])},reset:function(){this.errorHandler.removeErrors.call(this),this.errors={}}};Bull.defineRule("numericality",function(a,b){var c=b.message||"Should have only numbers";isNaN(a.val())&&this.addError(a,c)}),Bull.defineRule("presence",function(a,b){var c=b.message||"Can't be blank";(void 0===a.val()||null===a.val()||""===$.trim(a.val()))&&this.addError(a,c)}),Bull.defineRule("format",function(a,b){var c=b.message||"Isn't a valid format",d=b.regex||b;d.test(a.val())||this.addError(a,c)}),Bull.defineRule("maximum",function(a,b){var c=b.number||b,d=b.message||"Should have less than "+c+" chars";a.val().length>c&&this.addError(a,d)}),$.fn.validateForm=function(a,b){this.bind("submit",function(c){void 0==b&&(b=DefaultErrorHandler);var d=Bull.init(this,b).validate(a);d===!1&&c.preventDefault()})};